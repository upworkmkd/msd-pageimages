{
	"actorSpecification": 1,
	"fields": {
		"type": "object",
		"properties": {
			"domain": {
				"type": "object",
				"description": "Domain-level analysis summary",
				"properties": {
					"domain_name": {
						"type": "string",
						"description": "Domain name analyzed"
					},
					"total_pages_analyzed": {
						"type": "number",
						"description": "Total number of pages analyzed"
					},
					"total_images_found": {
						"type": "number",
						"description": "Total images found across all pages"
					},
					"total_images_without_alt": {
						"type": "number",
						"description": "Total images missing alt text"
					},
					"total_images_without_alt_percentage": {
						"type": "number",
						"description": "Percentage of images without alt text"
					},
					"average_images_per_page": {
						"type": "number",
						"description": "Average number of images per page"
					},
					"total_image_size_kb": {
						"type": "number",
						"description": "Total size of all images in KB"
					},
					"image_types": {
						"type": "object",
						"description": "Distribution of image file types"
					},
					"most_common_image_type": {
						"type": "string",
						"description": "Most frequently used image format"
					},
					"optimization_recommendations": {
						"type": "object",
						"description": "SEO and accessibility recommendations"
					}
				}
			},
			"pages": {
				"type": "array",
				"description": "Per-page analysis results",
				"items": {
					"type": "object",
					"properties": {
						"url": {
							"type": "string",
							"description": "Page URL"
						},
						"title": {
							"type": "string",
							"description": "Page title"
						},
						"totalImagesFound": {
							"type": "number",
							"description": "Total images found on page"
						},
						"imagesAnalyzed": {
							"type": "number",
							"description": "Number of images analyzed"
						},
						"imagesWithoutAltCount": {
							"type": "number",
							"description": "Images without alt text"
						},
						"imagesWithAltCount": {
							"type": "number",
							"description": "Images with alt text"
						},
						"images": {
							"type": "array",
							"description": "Detailed image data"
						},
						"statusCode": {
							"type": "number",
							"description": "HTTP response status"
						},
						"analysis_date": {
							"type": "string",
							"description": "Analysis timestamp"
						}
					}
				}
			},
			"analysis": {
				"type": "object",
				"description": "Analysis metadata",
				"properties": {
					"total_pages_processed": {
						"type": "number",
						"description": "Total pages processed"
					},
					"analysis_completed_at": {
						"type": "string",
						"description": "Analysis completion timestamp"
					},
					"images_engine_version": {
						"type": "string",
						"description": "Analysis engine version"
					},
					"data_format_version": {
						"type": "string",
						"description": "Data format version"
					}
				}
			}
		}
	},
	"views": {
		"overview": {
			"title": "Domain Overview",
			"description": "High-level domain analysis summary",
			"transformation": {
				"fields": [
					"domain.domain_name",
					"domain.total_pages_analyzed",
					"domain.total_images_found",
					"domain.total_images_without_alt",
					"domain.total_images_without_alt_percentage",
					"domain.average_images_per_page",
					"domain.total_image_size_kb",
					"domain.most_common_image_type",
					"analysis.analysis_completed_at"
				],
				"flatten": ["domain", "analysis"]
			},
			"display": {
				"component": "table",
				"properties": {
					"domain.domain_name": {
						"label": "Domain",
						"format": "text"
					},
					"domain.total_pages_analyzed": {
						"label": "Pages Analyzed",
						"format": "number"
					},
					"domain.total_images_found": {
						"label": "Total Images",
						"format": "number"
					},
					"domain.total_images_without_alt": {
						"label": "Missing Alt Text",
						"format": "number"
					},
					"domain.total_images_without_alt_percentage": {
						"label": "Missing Alt %",
						"format": "number"
					},
					"domain.average_images_per_page": {
						"label": "Avg Images/Page",
						"format": "number"
					},
					"domain.total_image_size_kb": {
						"label": "Total Size (KB)",
						"format": "number"
					},
					"domain.most_common_image_type": {
						"label": "Top Image Format",
						"format": "text"
					},
					"analysis.analysis_completed_at": {
						"label": "Analysis Date",
						"format": "date"
					}
				}
			}
		},
		"pages": {
			"title": "Page Analysis",
			"description": "Per-page image analysis results",
			"transformation": {
				"fields": [
					"url",
					"title",
					"totalImagesFound",
					"imagesAnalyzed",
					"imagesWithAltCount",
					"imagesWithoutAltCount",
					"statusCode",
					"analysis_date"
				],
				"unwind": ["pages"]
			},
			"display": {
				"component": "table",
				"properties": {
					"url": {
						"label": "Page URL",
						"format": "link"
					},
					"title": {
						"label": "Page Title",
						"format": "text"
					},
					"totalImagesFound": {
						"label": "Total Images",
						"format": "number"
					},
					"imagesAnalyzed": {
						"label": "Images Analyzed",
						"format": "number"
					},
					"imagesWithAltCount": {
						"label": "With Alt Text",
						"format": "number"
					},
					"imagesWithoutAltCount": {
						"label": "Without Alt Text",
						"format": "number"
					},
					"statusCode": {
						"label": "Status Code",
						"format": "number"
					},
					"analysis_date": {
						"label": "Analysis Date",
						"format": "date"
					}
				}
			}
		},
		"images": {
			"title": "Image Details",
			"description": "Detailed information for each image found",
			"transformation": {
				"fields": [
					"url",
					"imageUrl",
					"imageIndex",
					"alt",
					"hasAlt",
					"contentType",
					"sizeInBytes",
					"sizeInKb",
					"statusCode"
				],
				"unwind": ["pages", "images"]
			},
			"display": {
				"component": "table",
				"properties": {
					"url": {
						"label": "Page URL",
						"format": "link"
					},
					"imageUrl": {
						"label": "Image",
						"format": "image"
					},
					"imageIndex": {
						"label": "Index",
						"format": "number"
					},
					"alt": {
						"label": "Alt Text",
						"format": "text"
					},
					"hasAlt": {
						"label": "Has Alt",
						"format": "boolean"
					},
					"contentType": {
						"label": "Content Type",
						"format": "text"
					},
					"sizeInBytes": {
						"label": "Size (bytes)",
						"format": "number"
					},
					"sizeInKb": {
						"label": "Size (KB)",
						"format": "number"
					},
					"statusCode": {
						"label": "Status",
						"format": "number"
					}
				}
			}
		},
		"accessibility_issues": {
			"title": "Accessibility Issues",
			"description": "Images missing alt text (WCAG compliance issues)",
			"transformation": {
				"fields": [
					"url",
					"title",
					"imageUrl",
					"imageIndex",
					"contentType",
					"sizeInKb"
				],
				"unwind": ["pages", "images"],
				"omit": ["images"]
			},
			"display": {
				"component": "table",
				"properties": {
					"url": {
						"label": "Page URL",
						"format": "link"
					},
					"title": {
						"label": "Page Title",
						"format": "text"
					},
					"imageUrl": {
						"label": "Image",
						"format": "image"
					},
					"imageIndex": {
						"label": "Image Index",
						"format": "number"
					},
					"contentType": {
						"label": "Format",
						"format": "text"
					},
					"sizeInKb": {
						"label": "Size (KB)",
						"format": "number"
					}
				}
			}
		}
	}
}